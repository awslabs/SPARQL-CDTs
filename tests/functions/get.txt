PREFIX cdt:    <http://example.org/cdt/>

# # empty list
# ASK {
# 	BIND("[]"^^cdt:List AS ?list)
# };

# list with one integer
ASK {
	BIND("[1]"^^cdt:List AS ?list)
	FILTER(cdt:get(?list, 0) = 1)
};

# list with two integers
ASK {
	BIND("[1, 2]"^^cdt:List AS ?list)
	FILTER(cdt:get(?list, 0) = 1)
	FILTER(cdt:get(?list, 1) = 2)
};

# list with one string
ASK {
	BIND("['a']"^^cdt:List AS ?list)
	FILTER(cdt:get(?list, 0) = 'a')
};

# list with two strings
ASK {
	BIND("['a', 'b']"^^cdt:List AS ?list)
	FILTER(cdt:get(?list, 0) = 'a')
	FILTER(cdt:get(?list, 1) = 'b')
};

# list with two mixed types
ASK {
	BIND("["a", 1]"^^cdt:List AS ?list)
	FILTER(cdt:get(?list, 0) = 'a')
	FILTER(cdt:get(?list, 1) = '1')
};

# list with error as null
ASK {
	BIND("[null]"^^cdt:List AS ?list)
	BIND((cdt:get(?list, 0)) AS ?l0)
	FILTER(!BOUND(?l0))
};

# list with unbound as null
ASK {
	BIND("[null]"^^cdt:List AS ?list)
	BIND((cdt:get(?list, 0)) AS ?l0)
	FILTER(!BOUND(?l0))
};

# list with nested empty list
ASK {
	BIND("[[]]"^^cdt:List AS ?list)
	BIND((cdt:get(?list, 0)) AS ?l0)
	BIND((cdt:get(?l0, 0)) AS ?l1)
	FILTER(BOUND(?l0))
	FILTER(!BOUND(?l1))
	FILTER(?l0 = "[]"^^cdt:List)
};

# list with nested list with one integer
ASK {
	BIND("[[1]]"^^cdt:List AS ?list)
	BIND((cdt:get(?list, 0)) AS ?l0)
	BIND((cdt:get(?l0, 0)) AS ?l1)
	FILTER(?l1 = 1)
};

# list with mixed types including nested list
ASK {
	BIND("[[1], 2]"^^cdt:List AS ?list)
	BIND((cdt:get(?list, 0)) AS ?l0)
	BIND((cdt:get(?l0, 0)) AS ?l1)
	FILTER(?l1 = 1)
	FILTER(cdt:get(?list, 1) = 2)
};

# list with mixed defined and undefined types
ASK {
	BIND("[null, 2]"^^cdt:List AS ?list)
	BIND((cdt:get(?list, 0)) AS ?l0)
	FILTER(!BOUND(?l0))
	FILTER(cdt:get(?list, 1) = 2)
};
